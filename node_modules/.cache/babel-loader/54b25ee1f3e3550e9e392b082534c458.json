{"ast":null,"code":"var _jsxFileName = \"/home/courtney/dev/FinalProject/Front-End-Final/src/components/Main.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Post from './Post.js';\nimport Form from './Form.js';\nlet baseUrl = '';\n\nif (process.env.NODE_ENV === 'development') {\n  baseUrl = 'http://localhost:5000';\n} else {\n  console.log('this is for heroku');\n}\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchPosts = () => {\n      fetch(`${baseUrl}`).then(data => data.json()).then(jData => {\n        this.setState({\n          posts: jData\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.state = {\n      posts: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`${baseUrl}`).then(res => {\n      this.setState({\n        posts: res.data\n      });\n    }); // .catch (err) => {\n    //   console.log(err);\n    // }\n  }\n\n  // componentDidMount() {\n  //   this.fetchPosts()\n  //   console.log();\n  // }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }, this.props.view.pageTitle), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, this.props.view.page === 'home' ? this.state.posts.map(postData => /*#__PURE__*/React.createElement(Post, {\n      key: postData.id,\n      postData: postData,\n      handleView: this.props.handleView,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    })) : /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    })));\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["/home/courtney/dev/FinalProject/Front-End-Final/src/components/Main.js"],"names":["React","axios","Post","Form","baseUrl","process","env","NODE_ENV","console","log","Main","Component","constructor","props","fetchPosts","fetch","then","data","json","jData","setState","posts","catch","err","state","componentDidMount","get","res","render","view","pageTitle","page","map","postData","id","handleView"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,IAAIC,OAAO,GAAG,EAAd;;AACA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CH,EAAAA,OAAO,GAAG,uBAAV;AACD,CAFD,MAEO;AACLI,EAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACD;;AAED,MAAMC,IAAN,SAAmBV,KAAK,CAACW,SAAzB,CAAmC;AACjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAOnBC,UAPmB,GAON,MAAM;AACnBC,MAAAA,KAAK,CAAE,GAAEX,OAAQ,EAAZ,CAAL,CACCY,IADD,CACMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADd,EAECF,IAFD,CAEMG,KAAK,IAAI;AACb,aAAKC,QAAL,CAAc;AACZC,UAAAA,KAAK,EAAEF;AADK,SAAd;AAGD,OAND,EAMGG,KANH,CAMSC,GAAG,IAAIf,OAAO,CAACC,GAAR,CAAYc,GAAZ,CANhB;AAOC,KAfkB;;AAEjB,SAAKC,KAAL,GAAa;AACXH,MAAAA,KAAK,EAAE;AADI,KAAb;AAGD;;AAaDI,EAAAA,iBAAiB,GAAG;AAClBxB,IAAAA,KAAK,CAACyB,GAAN,CAAW,GAAEtB,OAAQ,EAArB,EACGY,IADH,CACQW,GAAG,IAAI;AACX,WAAKP,QAAL,CAAc;AAAEC,QAAAA,KAAK,EAACM,GAAG,CAACV;AAAZ,OAAd;AACD,KAHH,EADkB,CAKhB;AACA;AACA;AACH;;AAED;AACA;AACA;AACA;AAEAW,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKf,KAAL,CAAWgB,IAAX,CAAgBC,SAArB,CADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,KAAKjB,KAAL,CAAWgB,IAAX,CAAgBE,IAAhB,KAAyB,MAAzB,GACC,KAAKP,KAAL,CAAWH,KAAX,CAAiBW,GAAjB,CAAsBC,QAAD,iBACrB,oBAAC,IAAD;AACE,MAAA,GAAG,EAAEA,QAAQ,CAACC,EADhB;AAEE,MAAA,QAAQ,EAAED,QAFZ;AAGE,MAAA,UAAU,EAAE,KAAKpB,KAAL,CAAWsB,UAHzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CADD,gBAQC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,CAFA,CADF;AAiBD;;AApDgC;;AAwDnC,eAAezB,IAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Post from './Post.js';\nimport Form from './Form.js';\n\nlet baseUrl = '';\nif (process.env.NODE_ENV === 'development') {\n  baseUrl = 'http://localhost:5000'\n} else {\n  console.log('this is for heroku');\n}\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      posts: []\n    }\n  }\n\n  fetchPosts = () => {\n  fetch(`${baseUrl}`)\n  .then(data => data.json())\n  .then(jData => {\n    this.setState({\n      posts: jData\n    })\n  }).catch(err => console.log(err))\n  }\n\n\n  componentDidMount() {\n    axios.get(`${baseUrl}`)\n      .then(res => {\n        this.setState({ posts:res.data });\n      })\n      // .catch (err) => {\n      //   console.log(err);\n      // }\n  };\n\n  // componentDidMount() {\n  //   this.fetchPosts()\n  //   console.log();\n  // }\n\n  render() {\n    return(\n      <div>\n      <h1>{this.props.view.pageTitle}</h1>\n      <div>\n      {this.props.view.page === 'home' ?\n        this.state.posts.map((postData) => (\n        <Post\n          key={postData.id}\n          postData={postData}\n          handleView={this.props.handleView}\n        />\n      ))\n      : <Form />\n    }\n      </div>\n      </div>\n    )\n  }\n\n}\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}